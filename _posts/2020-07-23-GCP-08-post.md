---
title: Google Cloud - Google Cloud Storage
date : 2020-07-23 11:19:30 -0400
categories : GCP Google Cloud
---


#### 1. Google Cloud Storage 정의
* Google Cloud Platform의 대표적인 객체 Repository이다.
* 데이터양에 관계없이 언제, 어디서나 데이터를 저장하고 이를 가져 올 수 있다.
* 컨텐츠를 제공하거나 백업데이터를 저장하거나 사용자에게 대량의 데이터 객체를 배포하는 등의 용도로 사용한다.



#### 2. Google Cloud Storage의 주요 개념
* 프로젝트 : GCP의 프로젝트와 동일한 개념으로 GCS의 모든 데이터는 프로젝트에 속하게 된다.
* 버킷
    + 한글로 해석하면 '양동이'로 데이터를 담는 개념이다.
    + GCS에서 저장하는 모든 데이터들을 버킷에 포함되어야 한다.
    + 폴더나 디렉터리의 개념과 다르게 버킷안에 또다른 버킷을 만들 수 없다.
    + 전역에서 고유해야하기 때문에 GCP 전체에서 고유한 이름을 사용하여야 한다.
    + 버킷수는 적고 객체가 많도록 설계를 하는 것이 좋다.
    + 버킷 생성시 전역에 고유한 이름, 버킷과 컨텐츠가 지리적 위치, Repository등급을 지정한다.
    + 라벨을 달 수 있으며, 키-값형태로 GCP의 다른 리소스와 그룹화 할 수 있으며 적용할 수 있는 라벨의 최대 개수는 버킷당 64개이다.
* Repository
    + 간단히 말하면 버킷에 저장된 파일이다.
    + 객체는 크게 '객체데이터'와 '객체메타데이터' 2가지의 구성요소를 가지며, 객체 데이터는 일반적으로 GCS에 저장되는 파일을 의미한다, 객체메타데이터는 키-값형태로 구성이 되며 다양한 객체의 퀄리티 설명을 담당한다.
    + 객체 이름은 유니코드 문자포함(UTF-8인코딩)을 포함할 수 있으며 길이는 1024바이트를 초과할 수 없다.
* 지리적 중복
    + 지리적 중복 데이터는 최소 100마일이상 떨어진 두곳이상의 중복저장이 되기 때문에 자연재해와 같은 대규모 장애 발생시에도 최대한 데이터 가용성이 보장한다.
    + 다중지역위치에 저장된 객체는 Repository등급에 관계없이 지리적으로 중복이 된다.
* 객체 불변성 : 객체는 변경이 불가능 하다, Repository에 업로드한 객체는 변경할 수 없으며 새로 추가하거나 덮어쓰기 하여야한다.



#### 3. Repository등급 차이 및 비교
* 멀티 리저널 스토리지(Multi-Regional Storage)
    + 웹사이트의 컨텐츠, 비디오 스트리밍, 양방향 작업 부하, 모바일게임등 자주 액세스 되는 데이터를 저장한다.
    + 다른 Repository등급을 비교하여 가장 높은 가용성을 가진다.
    + 지리적 중복이 가능하다.
* 리저널 스토리지(Regional Storage)
    + 대규모 지리적 영역에서 중복을 분산시키는 대신 특정지역 위치에서 저렴한 비용으로 데이터를 저장한다.
    + Compute Engine이나 쿠버네티스 엔진 클러스터(Kubernetes Engine Cluster)와 함께 이용하여, 동일한 지역 위치에 데이터를 저장하는 데 적합하다.
* 니어라인 스토리지(Nearline Storage)
    + 자주 액세스 하지 않는 데이터를 저장하는데 적합한 저가의 Repository이다.
    + 위에서 말한 두개의 Repository보다 가용성이 상대적으로 낮다.
    + 최소 저장기간은 30일이며 데이터 액세스비용이 합리적이어서 Repository비용을 절약하는데는 더 나은 선택이다, 평균적으로 한달에 한번정도 읽거나 수정할 계획인 데이터가 있다면 이러한 데이터를 저장하는 데 매우 적합하다.
* 콜드라인 스토리지(Coldline Storage)
    + 저장비용이 가장 저렴하다.
    + 데이터 보관 및 온라인 백업 및 재해복구를 위한 Repository로 매우 적절하다.
    + 다른 Repository보다 가용성이 상대적으로 낮고, 최소 저장기간은 90일이며 데이터 액세스 비용보다 높은 운영비용이 들기 때문에 1년에 한번 정도 데이터를 엑세스할때 적합하다.
    + 적합데이터로 백업데이터 정도가 있다.
